# Maintainer: Jon Eyolfson <jon@eyl.io>
pkgname=emacs-rust-mode
pkgver=20141028
pkgrel=1
pkgdesc="A major Emacs mode for editing Rust source code"
arch=('any')
url="https://github.com/rust-lang/rust/tree/master/src/etc/emacs"
depends=('emacs')
license=('MIT')
source=("https://raw.githubusercontent.com/rust-lang/rust/master/src/etc/emacs/rust-mode.el")
sha1sums=(SKIP)

pkgver() {
  date +%Y%m%d
}

build() {
  emacs -batch -f batch-byte-compile rust-mode.el
}

package() {
  install -d $pkgdir/usr/share/emacs/site-lisp
  cp $srcdir/rust-mode.{el,elc} $pkgdir/usr/share/emacs/site-lisp
}
