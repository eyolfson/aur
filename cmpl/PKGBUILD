# Maintainer: Jon Eyolfson <jon@eyl.io>

pkgname=cmpl
pkgver=0.0.1
pkgrel=1
pkgdesc="A research C/C++ build system"
arch=('x86_64')
url="https://github.com/eyolfson/cmpl/"
license=('GPL3')
depends=('clang>=3.5')
source=("https://github.com/eyolfson/$pkgname/archive/$pkgver.tar.gz")
sha256sums=('39b518e53ac84cdfd72ecdb64f169a3ddfe6f4a716e587883b88290aa27fa9b9')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  mkdir bin
  clang++ -std=c++14 -O2 src/cmpl-bootstrap/main.cpp -o bin/cmpl-bootstrap
  bin/cmpl-bootstrap
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  install -Dm755 bin/cmpl "${pkgdir}/usr/bin/cmpl"
}
